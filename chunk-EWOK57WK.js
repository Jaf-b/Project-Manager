import{a as I}from"./chunk-VQ2BD7JW.js";import{C as X,D as Y,E as et,F as it,G as nt,a as A,d as L,e as N,f as P,g as z,h as D,l as O,m as T,p as B,r as G,s as H,t as q,u as R,v as U,w as $,x as Q}from"./chunk-GJ6AHVND.js";import{O as W,Q as j,R as K,S as J,T as Z,U as tt,ka as ot}from"./chunk-SFFS3SGB.js";import{H as k,g as y,n as V}from"./chunk-KOZ5BJR5.js";import{$b as h,Bb as b,Gb as E,Ia as x,Kb as e,Lb as i,Mb as m,Nb as f,Rb as g,Sb as s,ac as o,bc as F,cc as w,d as M,eb as c,ka as d,pb as S,sa as p,ta as u,ua as _,vb as v}from"./chunk-QNIESNKK.js";function rt(a,n){if(a&1){let t=f();e(0,"mat-card-content",7)(1,"span")(2,"b"),o(3),i()(),m(4,"br")(5,"br"),e(6,"button",8),g("click",function(){p(t);let l=s();return u(l.resetState())}),o(7," email non re\xE7us ? cliquez ici "),i()()}if(a&2){let t=s();c(3),w("l'email \xE0 \xE9t\xE9 envoy\xE9 \xE0 l'adresse ",t.emailSet(),"")}}function mt(a,n){if(a&1){let t=f();e(0,"mat-card-content")(1,"form",9,0),g("ngSubmit",function(){p(t);let l=h(2),at=s();return u(at.emailFormSubmit(l))}),e(3,"mat-form-field",10)(4,"mat-label"),o(5,"Email"),i(),m(6,"input",11,1),i(),e(8,"button",12),o(9," Connectez-vous avec Email "),i()(),e(10,"div",13),m(11,"mat-divider"),o(12," Or "),m(13,"mat-divider"),i(),e(14,"button",14),g("click",function(){p(t);let l=s();return u(l.loginWithGoogle())}),e(15,"mat-icon",15),_(),e(16,"svg",16),m(17,"path",17)(18,"path",18)(19,"path",19)(20,"path",20),i()(),o(21," Se connecter avec Google "),i()()}if(a&2){let t=h(2);c(8),b("disabled",t.invalid)}}var C=class a{appname=I;router=d(V);auth=d(ot);isAuthenticated=k(this.auth.authsTate);snackBar=d(nt);emailSet=x("");loginWithGoogle=()=>M(this,null,function*(){try{yield this.auth.loginWithgoogle().then(n=>this.router.navigate(["/home/acceuil"]))}catch{this.snackBar.open("Une erreur s'est produite","fermer",{duration:5e3,verticalPosition:"top",horizontalPosition:"right"})}});emailFormSubmit(n){let t=n.value.email;this.emailSet.set(t);let r={url:`${location.origin}${this.router.url}`,handleCodeInApp:!0};this.auth.sendAuthLink(t,r),localStorage.setItem("emailForSignIn",t),n.reset()}resetState=()=>this.emailSet.set("");ngOnInit(){if(this.router.url.includes("?apiKey="))return this.auth.LoginWithEmailLink();this.isAuthenticated()&&this.router.navigate(["/home/acceuil"])}static \u0275fac=function(t){return new(t||a)};static \u0275cmp=S({type:a,selectors:[["app-login"]],decls:11,vars:2,consts:[["EmailForm","ngForm"],["emails","ngModel"],[1,"container"],["appearance","outlined"],[2,"margin-bottom","1.5rem"],[2,"font-size","28px"],[2,"font-size","14px"],[2,"padding","2rem"],["mat-button","",3,"click"],[3,"ngSubmit"],["appearance","outline"],["ngModel","","required","","email","","placeholder","ex:jafred@gmail.com","type","email","name","email","matInput",""],["type","submit","mat-flat-button","",2,"height","50px",3,"disabled"],[2,"display","flex","gap","0.5rem","justify-content","center","align-items","center","margin","1rem"],["mat-stroked-button","",2,"text-align","center",3,"click"],["svgIcon","icon"],["xmlns","http://www.w3.org/2000/svg","x","0px","y","0px","width","20","height","20","viewBox","0 0 48 48"],["fill","#FFC107","d","M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"],["fill","#FF3D00","d","M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"],["fill","#4CAF50","d","M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"],["fill","#1976D2","d","M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"]],template:function(t,r){t&1&&(e(0,"div",2)(1,"mat-card",3)(2,"mat-card-header",4)(3,"mat-card-title")(4,"span",5),o(5),i()(),e(6,"mat-card-subtitle")(7,"span",6),o(8,"gerer vos projet facilement et en un clic"),i()()(),v(9,rt,8,1,"mat-card-content",7)(10,mt,22,1,"mat-card-content"),i()()),t&2&&(c(5),F(r.appname),c(4),E(r.emailSet()?9:10))},dependencies:[$,G,q,U,R,H,it,et,X,Q,j,W,Y,J,K,tt,Z,B,D,A,L,N,O,T,z,P,y],styles:["mat-card[_ngcontent-%COMP%]{width:22rem;padding:1rem;margin-top:1rem}mat-card-content[_ngcontent-%COMP%], form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}button[_ngcontent-%COMP%]{border-radius:5px}mat-divider[_ngcontent-%COMP%]{width:50%;height:1px;box-shadow:none}.container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}"]})};export{C as default};
